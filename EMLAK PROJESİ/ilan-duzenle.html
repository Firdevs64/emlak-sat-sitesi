<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ä°lan DÃ¼zenle - Emlak DÃ¼nyasÄ±</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .edit-listing-container {
            max-width: 1200px;
            margin: 120px auto 2rem;
            padding: 0 1rem;
        }

        .edit-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .edit-header h1 {
            color: var(--dark-gray);
        }

        .listing-status {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .status-label {
            color: var(--dark-gray);
            font-weight: bold;
        }

        .status-toggle {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .status-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .status-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .status-slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .status-slider {
            background-color: var(--primary-color);
        }

        input:checked + .status-slider:before {
            transform: translateX(26px);
        }

        .edit-form {
            background: var(--white);
            padding: 2rem;
            border-radius: 8px;
            box-shadow: var(--shadow);
        }

        .form-section {
            margin-bottom: 2rem;
        }

        .form-section h2 {
            color: var(--dark-gray);
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            color: var(--dark-gray);
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .form-control {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-control:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .form-textarea {
            min-height: 150px;
            resize: vertical;
        }

        .image-upload {
            border: 2px dashed #ddd;
            padding: 2rem;
            text-align: center;
            border-radius: 8px;
            margin-bottom: 1rem;
            cursor: pointer;
        }

        .image-upload:hover {
            border-color: var(--primary-color);
        }

        .image-preview {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .preview-item {
            position: relative;
            aspect-ratio: 1;
        }

        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 4px;
        }

        .remove-image {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255, 0, 0, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: var(--white);
        }

        .btn-secondary {
            background-color: var(--light-gray);
            color: var(--dark-gray);
        }

        .btn:hover {
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            .edit-header {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .form-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header BÃ¶lÃ¼mÃ¼ -->
    <header>
        <nav class="navbar">
            <div class="logo">
                <a href="index.html">Emlak DÃ¼nyasÄ±</a>
            </div>
            <div class="nav-links">
                <ul>
                    <li><a href="index.html">Ana Sayfa</a></li>
                    <li class="dropdown">
                        <a href="arama-sonuclari.html?type=satilik">SatÄ±lÄ±k</a>
                        <ul class="dropdown-content">
                            <li><a href="arama-sonuclari.html?type=satilik&category=konut">Konut</a></li>
                            <li><a href="arama-sonuclari.html?type=satilik&category=arsa">Arsa</a></li>
                            <li><a href="arama-sonuclari.html?type=satilik&category=isyeri">Ä°ÅŸyeri</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="arama-sonuclari.html?type=kiralik">KiralÄ±k</a>
                        <ul class="dropdown-content">
                            <li><a href="arama-sonuclari.html?type=kiralik&category=konut">Konut</a></li>
                            <li><a href="arama-sonuclari.html?type=kiralik&category=arsa">Arsa</a></li>
                            <li><a href="arama-sonuclari.html?type=kiralik&category=isyeri">Ä°ÅŸyeri</a></li>
                        </ul>
                    </li>
                    <li><a href="haberler.html">Haberler</a></li>
                    <li class="dropdown">
                        <a href="#">HesabÄ±m</a>
                        <ul class="dropdown-content">
                            <li><a href="uyelik-bilgilerim.html">Ãœyelik Bilgilerim</a></li>
                            <li><a href="ilanlarim.html">Ä°lanlarÄ±mÄ± YÃ¶net</a></li>
                            <li><a href="favorilerim.html">Favorilerim</a></li>
                            <li><a href="#" id="cikisYap">Ã‡Ä±kÄ±ÅŸ Yap</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Ä°lan DÃ¼zenleme Ä°Ã§eriÄŸi -->
    <main>
        <div class="edit-listing-container">
            <div class="edit-header">
                <h1>Ä°lan DÃ¼zenle</h1>
                <div class="listing-status">
                    <span class="status-label">Ä°lan Durumu:</span>
                    <label class="status-toggle">
                        <input type="checkbox" checked>
                        <span class="status-slider"></span>
                    </label>
                </div>
            </div>

            <form class="edit-form">
                <div class="form-section">
                    <h2>Temel Bilgiler</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="listingType">Ä°lan Tipi</label>
                            <select id="listingType" class="form-control">
                                <option value="sale">SatÄ±lÄ±k</option>
                                <option value="rent">KiralÄ±k</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="propertyType">Emlak Tipi</label>
                            <select id="propertyType" class="form-control">
                                <option value="apartment">Daire</option>
                                <option value="house">Ev</option>
                                <option value="land">Arsa</option>
                                <option value="commercial">Ä°ÅŸyeri</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="title">Ä°lan BaÅŸlÄ±ÄŸÄ±</label>
                            <input type="text" id="title" class="form-control" value="LÃ¼ks Daire">
                        </div>
                        <div class="form-group">
                            <label for="price">Fiyat</label>
                            <input type="number" id="price" class="form-control" value="2500000">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2>Konum Bilgileri</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="city">Åehir</label>
                            <select id="city" class="form-control">
                                <option value="istanbul">Ä°stanbul</option>
                                <option value="ankara">Ankara</option>
                                <option value="izmir">Ä°zmir</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="district">Ä°lÃ§e</label>
                            <select id="district" class="form-control">
                                <option value="kadikoy">KadÄ±kÃ¶y</option>
                                <option value="besiktas">BeÅŸiktaÅŸ</option>
                                <option value="sisli">ÅiÅŸli</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="address">Adres</label>
                            <input type="text" id="address" class="form-control" value="Ã–rnek Mahallesi, Ã–rnek Sokak No:1">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2>Emlak Ã–zellikleri</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="area">Alan (mÂ²)</label>
                            <input type="number" id="area" class="form-control" value="120">
                        </div>
                        <div class="form-group konut-fields">
                            <label for="rooms">Oda SayÄ±sÄ±</label>
                            <select id="rooms" class="form-control">
                                <option value="1+1">1+1</option>
                                <option value="2+1">2+1</option>
                                <option value="3+1" selected>3+1</option>
                                <option value="4+1">4+1</option>
                                <option value="5+">5+ ve Ã¼zeri</option>
                            </select>
                        </div>
                        <div class="form-group konut-fields">
                            <label for="floor">Kat</label>
                            <input type="number" id="floor" class="form-control" value="5">
                        </div>
                        <div class="form-group konut-fields">
                            <label for="buildingAge">Bina YaÅŸÄ±</label>
                            <input type="number" id="buildingAge" class="form-control" value="2">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2>AÃ§Ä±klama</h2>
                    <div class="form-group">
                        <label for="description">Ä°lan AÃ§Ä±klamasÄ±</label>
                        <textarea id="description" class="form-control form-textarea">LÃ¼ks ve modern bir daire. Merkezi konumda, ulaÅŸÄ±mÄ± kolay. Yeni yapÄ±lmÄ±ÅŸ, tadilat gerektirmez. GeniÅŸ balkon, otopark ve gÃ¼venlik sistemi mevcuttur.</textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h2>GÃ¶rseller</h2>
                    <div class="image-upload" id="imageUpload">
                        <i class="fas fa-cloud-upload-alt fa-3x"></i>
                        <p>GÃ¶rselleri yÃ¼klemek iÃ§in tÄ±klayÄ±n veya sÃ¼rÃ¼kleyin</p>
                        <input type="file" multiple accept="image/*" style="display: none;">
                    </div>
                    <div class="image-preview">
                        <div class="preview-item">
                            <img src="images/listing1.jpg" alt="Ã–nizleme">
                            <button type="button" class="remove-image">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="preview-item">
                            <img src="images/listing2.jpg" alt="Ã–nizleme">
                            <button type="button" class="remove-image">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- EÄ°DS Yetki DoÄŸrulama BÃ¶lÃ¼mÃ¼ -->
                <div class="form-section eids-verification-section">
                    <h2 class="section-title">EÄ°DS Yetki DoÄŸrulama <i class="fas fa-info-circle eids-info-icon" title="EÄ°DS yetkisi doÄŸrulamasÄ± hakkÄ±nda bilgi"></i></h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="tapu-durumu">Tapu Durumu <span class="required">*</span></label>
                            <select id="tapu-durumu" name="tapu-durumu" required>
                                <option value="">SeÃ§iniz</option>
                                <option value="mÃ¼stakil-tapu">MÃ¼stakil Tapu</option>
                                <option value="kat-irtifaki">Kat Ä°rtifakÄ±</option>
                                <option value="kat-mulkiyeti">Kat MÃ¼lkiyeti</option>
                            </select>
                        </div>
                        <div class="form-group form-group-with-button">
                            <label for="tasinmaz-id">TaÅŸÄ±nmaz NumarasÄ± (ID) <span class="required">*</span></label>
                            <input type="text" id="tasinmaz-id" name="tasinmaz-id" placeholder="LÃ¼tfen yetkilisi olduÄŸunuz taÅŸÄ±nmazÄ±n ID'si giriniz" required>
                            <button type="button" class="btn btn-primary" id="verifyEids">DoÄŸrula</button>
                        </div>
                    </div>
                    <p class="help-text"><a href="#" id="howToLearnIdLink">TaÅŸÄ±nmaz numaramÄ± nasÄ±l Ã¶ÄŸrenirim?</a></p>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i>
                        DeÄŸiÅŸiklikleri Kaydet
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="window.location.href='ilanlarim.html'">
                        <i class="fas fa-times"></i>
                        Ä°ptal
                    </button>
                </div>
            </form>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Emlak DÃ¼nyasÄ±</h3>
                <p>Hayalinizdeki eve bir adÄ±m daha yaklaÅŸÄ±n.</p>
            </div>
            <div class="footer-section">
                <h3>HÄ±zlÄ± BaÄŸlantÄ±lar</h3>
                <ul>
                    <li><a href="hakkimizda.html">HakkÄ±mÄ±zda</a></li>
                    <li><a href="iletisim.html">Ä°letiÅŸim</a></li>
                    <li><a href="gizlilik.html">Gizlilik PolitikasÄ±</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Bizi Takip Edin</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Emlak DÃ¼nyasÄ±. TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
        </div>
    </footer>

    <!-- EÄ°DS Bilgi Kutusu -->
    <div id="eidsInfoBox" class="eids-info-box">
        <p>
            TaÅŸÄ±nmaz Ticareti HakkÄ±nda YÃ¶netmelik hÃ¼kÃ¼mleri<br>
            gereÄŸince, ilana konu taÅŸÄ±nmazÄ±n size veya birinci ve<br>
            ikinci derece kan hÄ±sÄ±mlarÄ±nÄ±za veya eÅŸinize ait<br>
            olduÄŸunun veya taÅŸÄ±nmaz sahibi tarafÄ±ndan<br>
            yetkilendirildiÄŸinizin doÄŸrulanmasÄ± gerekmektedir.<br>
            LÃ¼tfen TaÅŸÄ±nmaz NumarasÄ± (ID)'yi girerek<br>
            doÄŸrulayÄ±nÄ±z.
        </p>
    </div>

    <!-- TaÅŸÄ±nmaz NumarasÄ± Bilgi Kutusu -->
    <div id="howToLearnInfoBox" class="info-box">
        <span class="close-info-box">&times;</span>
        <h2>ğŸ·ï¸ Ä°lan Eklemek Ä°Ã§in TaÅŸÄ±nmaz (Ada/Parsel) NumaramÄ± NasÄ±l Ã–ÄŸrenirim?</h2>
        <p>
            Ä°lanÄ±nÄ±zÄ± ekleyebilmeniz iÃ§in, taÅŸÄ±nmaza ait ada ve parsel bilgilerini girmeniz gerekmektedir. Bu bilgiler, taÅŸÄ±nmazÄ±n resmi kayÄ±tlarÄ±yla eÅŸleÅŸmesini saÄŸlar ve ilanÄ±nÄ±zÄ±n doÄŸruluÄŸunu artÄ±rÄ±r.
        </p>
        <h3>ğŸ“Œ TaÅŸÄ±nmaz Bilgilerini Ã–ÄŸrenmenin YollarÄ±:</h3>
        <p><strong>1. Tapu Belgesine BakÄ±n</strong><br>Tapu senedinizde, taÅŸÄ±nmaza ait aÅŸaÄŸÄ±daki bilgiler yer alÄ±r:</p>
        <ul>
            <li>Ä°l / Ä°lÃ§e / Mahalle</li>
            <li>Ada No</li>
            <li>Parsel No</li>
        </ul>
        <p>ğŸ“ Tapunuzdaki bu bilgileri ilan formuna doÄŸrudan girebilirsiniz.</p>
        <p><strong>2. e-Devlet Ãœzerinden Sorgulama (Tapu Bilgileri)</strong><br>TaÅŸÄ±nmazÄ±nÄ±za ait bilgileri e-Devlet Ã¼zerinden kolayca Ã¶ÄŸrenebilirsiniz:</p>
        <ul>
            <li><a href="https://www.turkiye.gov.tr" target="_blank">www.turkiye.gov.tr</a> adresine girin.</li>
            <li>T.C. kimlik numaranÄ±z ve ÅŸifrenizle giriÅŸ yapÄ±n.</li>
            <li>Arama kutusuna "Tapu Bilgileri Sorgulama" yazÄ±n ve ilgili hizmete tÄ±klayÄ±n.</li>
            <li>Ãœzerinize kayÄ±tlÄ± taÅŸÄ±nmazlarÄ± ve parsel bilgilerini gÃ¶rÃ¼ntÃ¼leyin.</li>
        </ul>
        <p><strong>3. Parsel Sorgu UygulamasÄ±nÄ± KullanÄ±n</strong><br>ResmÃ® Parsel Sorgu uygulamasÄ± Ã¼zerinden ada/parsel bilgilerini harita Ã¼zerinde bulabilirsiniz:</p>
        <ul>
            <li><a href="https://parselsorgu.tkgm.gov.tr" target="_blank">parselsorgu.tkgm.tkgm.gov.tr</a></li>
            <li>Ä°l, ilÃ§e, mahalle bilgilerini girerek ada ve parsel numarasÄ±na ulaÅŸabilirsiniz.</li>
        </ul>
        <h3>â“ SÄ±k Sorulan Sorular</h3>
        <p><strong>ğŸ“Œ Ada ve parsel ne demek?</strong><br>Ada: Bir mahalledeki imar adasÄ±nÄ± ifade eder.<br>Parsel: O ada iÃ§erisindeki her bir baÄŸÄ±msÄ±z taÅŸÄ±nmazdÄ±r.</p>
        <p><strong>ğŸ“Œ Bu bilgiler neden gerekli?</strong><br>DoÄŸruluÄŸu teyit edilen ilanlar hem daha gÃ¼venilir gÃ¶rÃ¼nÃ¼r hem de hukuki sorunlarÄ±n Ã¶nÃ¼ne geÃ§er.</p>
    </div>

    <script src="js/main.js"></script>
    <script>
        // GÃ¶rsel yÃ¼kleme iÅŸlemleri
        const imageUpload = document.getElementById('imageUpload');
        const fileInput = imageUpload.querySelector('input[type="file"]');
        const imagePreview = document.querySelector('.image-preview');

        imageUpload.addEventListener('click', () => {
            fileInput.click();
        });

        imageUpload.addEventListener('dragover', (e) => {
            e.preventDefault();
            imageUpload.style.borderColor = '#4CAF50';
        });

        imageUpload.addEventListener('dragleave', () => {
            imageUpload.style.borderColor = '#ddd';
        });

        imageUpload.addEventListener('drop', (e) => {
            e.preventDefault();
            imageUpload.style.borderColor = '#ddd';
            const files = e.dataTransfer.files;
            handleFiles(files);
        });

        fileInput.addEventListener('change', (e) => {
            handleFiles(e.target.files);
        });

        function handleFiles(files) {
            Array.from(files).forEach(file => {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const previewItem = document.createElement('div');
                        previewItem.className = 'preview-item';
                        previewItem.innerHTML = `
                            <img src="${e.target.result}" alt="Ã–nizleme">
                            <button type="button" class="remove-image">
                                <i class="fas fa-times"></i>
                            </button>
                        `;
                        imagePreview.appendChild(previewItem);
                    };
                    reader.readAsDataURL(file);
                }
            });
        }

        // GÃ¶rsel silme iÅŸlemi
        imagePreview.addEventListener('click', (e) => {
            if (e.target.closest('.remove-image')) {
                e.target.closest('.preview-item').remove();
            }
        });

        // EÄ°DS bilgi kutusu iÅŸlemleri
        const infoIcon = document.querySelector('.eids-info-icon');
        const infoBox = document.getElementById('eidsInfoBox');
        const howToLearnLink = document.getElementById('howToLearnIdLink');
        const howToLearnBox = document.getElementById('howToLearnInfoBox');
        const closeInfoBox = document.querySelector('.close-info-box');

        if (infoIcon && infoBox) {
            infoIcon.addEventListener('click', () => {
                if (infoBox.style.display === 'block') {
                    infoBox.style.display = 'none';
                } else {
                    const iconRect = infoIcon.getBoundingClientRect();
                    infoBox.style.top = `${iconRect.bottom + 5}px`;
                    infoBox.style.left = `${iconRect.left}px`;
                    infoBox.style.display = 'block';
                }
            });
        }

        if (howToLearnLink && howToLearnBox) {
            howToLearnLink.addEventListener('click', (e) => {
                e.preventDefault();
                howToLearnBox.style.display = 'block';
            });
        }

        if (closeInfoBox) {
            closeInfoBox.addEventListener('click', () => {
                howToLearnBox.style.display = 'none';
            });
        }

        // Sayfa dÄ±ÅŸÄ±na tÄ±klandÄ±ÄŸÄ±nda kutularÄ± kapat
        document.addEventListener('click', (e) => {
            if (infoBox && !infoBox.contains(e.target) && e.target !== infoIcon) {
                infoBox.style.display = 'none';
            }
            if (howToLearnBox && !howToLearnBox.contains(e.target) && e.target !== howToLearnLink) {
                howToLearnBox.style.display = 'none';
            }
        });

        // Form gÃ¶nderme iÅŸlemi
        document.querySelector('.edit-form').addEventListener('submit', (e) => {
            e.preventDefault();
            // Form verilerini topla ve gÃ¶nder
            const formData = new FormData(e.target);
            console.log('Form verileri:', Object.fromEntries(formData));
            alert('Ä°lan baÅŸarÄ±yla gÃ¼ncellendi!');
            window.location.href = 'ilanlarim.html';
        });

        // Emlak tipi deÄŸiÅŸtiÄŸinde alanlarÄ± gÃ¼ncelle
        document.getElementById('propertyType').addEventListener('change', function() {
            const isArsa = this.value === 'land';
            const arsaFields = document.querySelectorAll('.arsa-fields');
            const konutFields = document.querySelectorAll('.konut-fields');
            
            arsaFields.forEach(field => {
                field.style.display = isArsa ? 'block' : 'none';
            });
            
            konutFields.forEach(field => {
                field.style.display = isArsa ? 'none' : 'block';
            });
        });

        // Sayfa yÃ¼klendiÄŸinde mevcut emlak tipine gÃ¶re alanlarÄ± ayarla
        document.addEventListener('DOMContentLoaded', function() {
            const propertyType = document.getElementById('propertyType');
            propertyType.dispatchEvent(new Event('change'));
        });
    </script>
</body>
</html> 
